{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\KChilufya\\\\Documents\\\\Digital Transformation Projects\\\\bus-booking-system\\\\frontend\\\\src\\\\components\\\\Booking\\\\BusSearch.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BusSearch = ({\n  selectedRoute,\n  onBusSelect,\n  onBack\n}) => {\n  _s();\n  const [buses, setBuses] = useState([]);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    fetchBusesForRoute();\n  }, [selectedRoute]);\n  const fetchBusesForRoute = async () => {\n    try {\n      const response = await fetch('http://localhost:5000/api/buses');\n      const allBuses = await response.json();\n\n      // Filter buses by route (you might need to populate route in your backend)\n      const routeBuses = allBuses.filter(bus => bus.route === selectedRoute._id);\n      setBuses(routeBuses.length > 0 ? routeBuses : allBuses.slice(0, 2)); // Show some buses for demo\n    } catch (error) {\n      console.error('Error fetching buses:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading\",\n      children: \"Loading available buses...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bus-search-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onBack,\n        className: \"btn btn-outline\",\n        children: \"\\u2190 Back to Routes\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Available Buses\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"route-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [selectedRoute.startLocation, \" \\u2192 \", selectedRoute.destination]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Distance: \", selectedRoute.distance, \" km | Duration: \", selectedRoute.duration]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"buses-list\",\n      children: buses.length > 0 ? buses.map(bus => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bus-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bus-details\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: [\"Bus \", bus.busNumber]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bus-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"\\uD83D\\uDE8C Capacity: \", bus.capacity, \" seats\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"\\uD83D\\uDCBA Available: \", bus.availableSeats, \" seats\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\uD83D\\uDCB0 Price: K150 per seat\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          onClick: () => onBusSelect(bus),\n          disabled: bus.availableSeats === 0,\n          children: bus.availableSeats > 0 ? 'Select Seats' : 'Fully Booked'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 15\n        }, this)]\n      }, bus._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 13\n      }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"no-buses\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No buses available for this route at the moment.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onBack,\n          className: \"btn btn-outline\",\n          children: \"Choose Different Route\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 5\n  }, this);\n};\n_s(BusSearch, \"mY03oo0Q1MiOEpW76gd5OiDpra4=\");\n_c = BusSearch;\nexport default BusSearch;\nvar _c;\n$RefreshReg$(_c, \"BusSearch\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","BusSearch","selectedRoute","onBusSelect","onBack","_s","buses","setBuses","loading","setLoading","fetchBusesForRoute","response","fetch","allBuses","json","routeBuses","filter","bus","route","_id","length","slice","error","console","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","startLocation","destination","distance","duration","map","busNumber","capacity","availableSeats","disabled","_c","$RefreshReg$"],"sources":["C:/Users/KChilufya/Documents/Digital Transformation Projects/bus-booking-system/frontend/src/components/Booking/BusSearch.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\n\nconst BusSearch = ({ selectedRoute, onBusSelect, onBack }) => {\n  const [buses, setBuses] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    fetchBusesForRoute();\n  }, [selectedRoute]);\n\n  const fetchBusesForRoute = async () => {\n    try {\n      const response = await fetch('http://localhost:5000/api/buses');\n      const allBuses = await response.json();\n\n      // Filter buses by route (you might need to populate route in your backend)\n      const routeBuses = allBuses.filter(bus => bus.route === selectedRoute._id);\n      setBuses(routeBuses.length > 0 ? routeBuses : allBuses.slice(0, 2)); // Show some buses for demo\n    } catch (error) {\n      console.error('Error fetching buses:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (loading) {\n    return <div className=\"loading\">Loading available buses...</div>;\n  }\n\n  return (\n    <div className=\"bus-search-container\">\n      <div className=\"page-header\">\n        <button onClick={onBack} className=\"btn btn-outline\">‚Üê Back to Routes</button>\n        <h2>Available Buses</h2>\n        <div className=\"route-info\">\n          <h3>{selectedRoute.startLocation} ‚Üí {selectedRoute.destination}</h3>\n          <p>Distance: {selectedRoute.distance} km | Duration: {selectedRoute.duration}</p>\n        </div>\n      </div>\n\n      <div className=\"buses-list\">\n        {buses.length > 0 ? (\n          buses.map((bus) => (\n            <div key={bus._id} className=\"bus-item\">\n              <div className=\"bus-details\">\n                <h4>Bus {bus.busNumber}</h4>\n                <div className=\"bus-info\">\n                  <span>üöå Capacity: {bus.capacity} seats</span>\n                  <span>üí∫ Available: {bus.availableSeats} seats</span>\n                  <span>üí∞ Price: K150 per seat</span>\n                </div>\n              </div>\n              <button\n                className=\"btn btn-primary\"\n                onClick={() => onBusSelect(bus)}\n                disabled={bus.availableSeats === 0}\n              >\n                {bus.availableSeats > 0 ? 'Select Seats' : 'Fully Booked'}\n              </button>\n            </div>\n          ))\n        ) : (\n          <div className=\"no-buses\">\n            <p>No buses available for this route at the moment.</p>\n            <button onClick={onBack} className=\"btn btn-outline\">Choose Different Route</button>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default BusSearch;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}